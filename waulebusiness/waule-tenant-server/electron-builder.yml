# Electron Builder 配置 - waule-tenant-server (Windows only)
appId: com.waule.enterprise-server
productName: Waule企业版服务端
copyright: Copyright © 2024 Waule

# 目录配置
directories:
  output: release
  buildResources: resources

# 包含的文件
files:
  - dist/**/*
  - electron/**/*.cjs
  - package.json
  - node_modules/better-sqlite3/**/*
  - node_modules/bindings/**/*
  - node_modules/file-uri-to-path/**/*

# 原生模块配置
asar: true
asarUnpack:
  - "**/*.node"
  - "**/node_modules/better-sqlite3/**/*"

# 额外资源
extraResources:
  - from: resources/
    to: resources/
    filter:
      - "**/*"

# 仅 Windows 配置
win:
  target:
    - target: nsis
      arch:
        - x64
  icon: resources/icon.ico
  artifactName: ${productName}-${version}-win-${arch}.${ext}

# NSIS 安装程序配置
nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
  installerIcon: resources/icon.ico
  uninstallerIcon: resources/icon.ico
  installerHeaderIcon: resources/icon.ico
  createDesktopShortcut: true
  createStartMenuShortcut: true
  shortcutName: Waule企业版服务端
  runAfterFinish: true

# 自动更新配置（可选）
publish:
  provider: generic
  url: https://your-update-server.com/tenant-releases
  publishAutoUpdate: false
